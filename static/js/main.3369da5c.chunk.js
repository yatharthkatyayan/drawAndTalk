(this.webpackJsonpdrawandtalk=this.webpackJsonpdrawandtalk||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var c,a=n(2),s=n.n(a),r=n(50),i=n.n(r),o=(n(59),n(26)),l=n(3),u=n(5),j=(n(60),n(0)),d=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(u.a)(s,2),i=r[0],l=r[1];return Object(j.jsx)("div",{className:"joinOuterContainer",children:Object(j.jsxs)("div",{className:"joinInnerContainer",children:[Object(j.jsx)("h1",{className:"heading",children:"Join"}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{placeholder:"Name",className:"joinInput",type:"text",onChange:function(e){return c(e.target.value)}})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{placeholder:"Room",className:"joinInput mt-20",type:"text",onChange:function(e){return l(e.target.value)}})}),Object(j.jsx)(o.b,{onClick:function(e){return n&&i?null:e.preventDefault()},to:"/chat?name=".concat(n,"&room=").concat(i),children:Object(j.jsx)("button",{className:"button mt-20",type:"submit",children:"Sign In"})})]})})},m=n(33),b=(n(68),function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null),c=Object(a.useState)(!1),s=Object(u.a)(c,2),r=s[0],i=s[1];Object(a.useEffect)((function(){var e=t.current;e.width=2*window.innerWidth,e.height=2*window.innerHeight,e.style.width="".concat(window.innerWidth,"px"),e.style.height="".concat(window.innerHeight,"px");var c=e.getContext("2d");c.scale(2,2),c.lineCap="round",c.strokeStyle="black",c.lineWidth="8",c.fillStyle="white",c.fillRect(0,0,e.width,e.height),n.current=c}),[]),Object(a.useEffect)((function(){var c=t.current.getContext("2d");n.current=c,c.strokeStyle="".concat(e.BrushColor),c.lineWidth="".concat(e.BrushSize)}),[e]);var o=function(){n.current.closePath(),i(!1)};return Object(j.jsx)("div",{className:"inner-board-container",id:"board-container",children:Object(j.jsx)("canvas",{ref:t,className:"board",id:"board",onMouseDown:function(e){return function(e){var t=document.getElementById("board"),c=t.getBoundingClientRect().left,a=t.getBoundingClientRect().top;n.current.beginPath(),n.current.moveTo(e.clientX-c,e.clientY-a),i(!0)}(e)},onMouseMove:function(e){return function(e){if(r){var t=document.getElementById("board"),c=t.getBoundingClientRect().left,a=t.getBoundingClientRect().top;n.current.lineTo(e.clientX-c,e.clientY-a),n.current.stroke()}}(e)},onMouseUp:function(e){return o()},onMouseOut:function(e){return o()}})})}),h=(n(69),function(){var e=Object(a.useState)(8),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)("rgb(101, 226, 101)"),r=Object(u.a)(s,2),i=r[0],o=r[1];Object(a.useEffect)((function(){document.getElementById("color-container").style.backgroundColor=i}),[i]);return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"menu",children:[Object(j.jsx)("div",{className:"container-color-picker",id:"color-container",children:Object(j.jsx)("input",{className:"color-picker",type:"color",id:"color-picker",defaultValue:i,onChange:function(){var e=document.getElementById("color-picker").value;document.getElementById("color-container").style.backgroundColor=e,o(e)}})}),Object(j.jsx)("div",{className:"slidecontainer",children:Object(j.jsx)("input",{type:"range",min:"1",max:"150",className:"slider",id:"myRange",value:n,onChange:function(){var e=document.getElementById("myRange").value;c(e)}})})]}),Object(j.jsx)("div",{className:"board-container",children:Object(j.jsx)(b,{BrushColor:i,BrushSize:"".concat(n)})})]})}),O=n(53),g=n.n(O),x=n(54),f=n.n(x),A=(n(49),n(27)),v=n.n(A),p=function(e){var t=e.message,n=t.text,c=t.user,a=!1,s=e.name.trim().toLowerCase();return c===s&&(a=!0),a?Object(j.jsxs)("div",{className:"messageContainer justifyEnd",children:[Object(j.jsx)("p",{className:"sentText pr-10",children:s}),Object(j.jsx)("div",{className:"messageBox backgroundBlue",children:Object(j.jsx)("img",{className:"messageText colorWhite",src:n,alt:"canvas not rendered !!!!"})})]}):Object(j.jsxs)("div",{className:"messageContainer justifyStart",children:[Object(j.jsx)("div",{className:"messageBox backgroundLight",children:Object(j.jsx)("img",{className:"messageText colorWhite",src:n,alt:"canvas not rendered !!!!"})}),Object(j.jsx)("p",{className:"sentText pl-10 ",children:c})]})},N=function(e){var t=e.message,n=t.text,c=t.user,a=!1,s=e.name.trim().toLowerCase();return c===s&&(a=!0),a?Object(j.jsxs)("div",{className:"messageContainer justifyEnd",children:[Object(j.jsx)("p",{className:"sentText pr-10",children:s}),Object(j.jsx)("div",{className:"messageBox backgroundBlue",children:Object(j.jsx)("p",{className:"messageText colorWhite",children:v.a.emojify(n)})})]}):Object(j.jsxs)("div",{className:"messageContainer justifyStart",children:[Object(j.jsx)("div",{className:"messageBox backgroundLight",children:Object(j.jsx)("p",{className:"messageText colorDark",children:v.a.emojify(n)})}),Object(j.jsx)("p",{className:"sentText pl-10 ",children:c})]})},C=(n(101),function(e){var t=e.messages,n=e.name;return Object(j.jsx)("div",{className:"messages",children:t.map((function(e,t){return 0===e[0]?Object(j.jsx)("div",{children:Object(j.jsx)(N,{message:e[1],name:n})},t):Object(j.jsx)("div",{children:Object(j.jsx)(p,{message:e[1],name:n})},t)}))})}),y=(n(102),function(e){var t=e.room;return Object(j.jsxs)("div",{className:"infoBar",children:[Object(j.jsxs)("div",{className:"leftInnerContainer",children:[Object(j.jsx)("img",{className:"onlineIcon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=",alt:"online icon"}),Object(j.jsx)("h3",{children:t})]}),Object(j.jsx)("div",{className:"rightInnerContainer",children:Object(j.jsx)("a",{href:"/",children:Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=",alt:"close icon"})})})]})}),I=(n(103),function(e){var t=e.setMessage,n=e.sendMessage,c=e.message;return Object(j.jsxs)("form",{className:"form",children:[Object(j.jsx)("input",{className:"input",type:"text",placeholder:"Type a message...",value:c,onChange:function(e){var n=e.target.value;return t(n)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}}),Object(j.jsx)("button",{className:"sendButton",onClick:function(e){return n(e)},children:"Send"})]})}),S=(n(104),function(e){var t=e.location,n=Object(a.useState)(""),s=Object(u.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)(""),l=Object(u.a)(o,2),d=l[0],b=l[1],O=Object(a.useState)(""),x=Object(u.a)(O,2),A=(x[0],x[1]),v=Object(a.useState)(""),p=Object(u.a)(v,2),N=p[0],S=p[1],B=Object(a.useState)([]),w=Object(u.a)(B,2),k=w[0],E=w[1],R="https://draw-and-talk.herokuapp.com/";Object(a.useEffect)((function(){var e=g.a.parse(t.search),n=e.name,a=e.room;c=f.a.connect(R),i(n),b(a),c.emit("join",{name:n,room:a},(function(e){e&&alert(e)}))}),[R,t.search]),Object(a.useEffect)((function(){c.on("message",(function(e){E((function(t){return[].concat(Object(m.a)(t),[[0,e]])}))})),c.on("Image",(function(e){E((function(t){return[].concat(Object(m.a)(t),[[1,e]])}))})),c.on("roomData",(function(e){var t=e.users;A(t)}))}),[]);return Object(j.jsxs)("div",{className:"mainScreenContainer",children:[Object(j.jsxs)("div",{className:"chatcontainer",children:[Object(j.jsx)(y,{room:d}),Object(j.jsx)(C,{messages:k,name:r}),Object(j.jsx)(I,{message:N,setMessage:S,sendMessage:function(e){if(e.preventDefault(),N)c.emit("sendMessage",N,(function(){return S("")}));else{var t=document.getElementById("board").toDataURL("image/jpeg");c.emit("sendImage",t,(function(){return S("")}))}}})]}),Object(j.jsx)("div",{className:"canavsContainer",children:Object(j.jsx)(h,{})})]})}),B=function(){return Object(j.jsxs)(o.a,{children:[Object(j.jsx)(l.a,{path:"/",exact:!0,component:d}),Object(j.jsx)(l.a,{path:"/chat",component:S})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(B,{})}),document.getElementById("root")),w()},49:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.3369da5c.chunk.js.map